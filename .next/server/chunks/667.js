exports.id=667,exports.ids=[667],exports.modules={3013:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,6064,23)),Promise.resolve().then(r.t.bind(r,5324,23)),Promise.resolve().then(r.t.bind(r,8330,23)),Promise.resolve().then(r.t.bind(r,1393,23)),Promise.resolve().then(r.t.bind(r,5635,23)),Promise.resolve().then(r.t.bind(r,5961,23))},2466:(e,a,r)=>{Promise.resolve().then(r.bind(r,4194))},6396:(e,a,r)=>{"use strict";r.d(a,{default:()=>d});var s=r(5909),t=r(2519),i=r(6665),o=r(6963),l=r(6314),n=r(6452);function c({children:e,currentRole:a}){let{data:r}=(0,l.kP)(),c=(0,o.usePathname)(),[d,p]=(0,i.useState)(!1),m=r?.user?.role||a||"SOLICITANTE",x={SOLICITANTE:[{href:"/rq/new",label:"Nueva RQ"},{href:"/dashboard?role=SOLICITANTE",label:"Mis Requisiciones"}],COMPRAS:[{href:"/dashboard?role=COMPRAS",label:"RQs Pendientes"},{href:"/rq",label:"Requisiciones"},{href:"/suppliers",label:"Proveedores"}],AUTORIZADOR:[{href:"/dashboard?role=AUTORIZADOR",label:"Pendientes Autorizaci\xf3n"},{href:"/rq",label:"Listado de RQs"}],ADMIN:[{href:"/dashboard?role=ADMIN",label:"Dashboard Admin"},{href:"/projects",label:"Proyectos"},{href:"/cost-centers",label:"Centros de Costo"},{href:"/suppliers",label:"Proveedores"}]}[m]||[],u=["SOLICITANTE","COMPRAS","AUTORIZADOR","ADMIN"].includes(m)?m:"SOLICITANTE",h=(0,i.useMemo)(()=>(0,n.g0)(u),[u]);return(0,s.jsxs)("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[s.jsx("header",{className:"sticky top-0 z-40 bg-gradient-to-r from-slate-900 via-blue-900 to-blue-700 pb-4 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 pt-4 sm:pt-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(t.default,{href:"/",className:"text-2xl font-bold text-white tracking-tight",children:"AdminBHSR"}),s.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-blue-100 backdrop-blur",children:u})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col text-xs font-medium text-blue-100",children:[s.jsx("span",{className:"mb-1 uppercase tracking-widest text-[11px] text-blue-100/80",children:"Rol activo"}),s.jsx("span",{className:"inline-flex items-center gap-2 rounded-lg border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold text-white shadow-sm",children:u})]}),s.jsx("div",{className:"hidden md:block h-4 w-px bg-white/20"}),s.jsx("span",{className:"text-xs font-medium text-blue-100",children:r?.user?.name||r?.user?.email}),(0,s.jsxs)("button",{onClick:()=>(0,l.w7)({callbackUrl:"/login"}),className:"inline-flex items-center gap-2 rounded-lg border border-white/20 px-3 py-1 text-xs font-semibold text-white transition hover:bg-white/10",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12H3m12 0l-4 4m4-4l-4-4m9 8V8a2 2 0 00-2-2h-3"})}),"Cerrar sesi\xf3n"]})]})]}),s.jsx("nav",{className:"flex w-full items-center gap-2 overflow-x-auto pb-1 text-sm [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:x.map(e=>{let a=c===e.href;return s.jsx(t.default,{href:e.href,className:`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-semibold transition ${a?"border-white bg-white text-blue-900 shadow-sm":"border-white/20 bg-white/10 text-blue-50 hover:bg-white/20"}`,children:e.label},e.href)})}),h.length>0&&(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-white/10 bg-white/10 p-4 text-blue-50",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4 min-w-0",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-blue-100",children:"Gu\xeda r\xe1pida del rol"}),(0,s.jsxs)("h2",{className:"mt-1 text-base font-semibold text-white",children:["Prioridades para ",u.toLowerCase()]})]}),(0,s.jsxs)("button",{onClick:()=>p(e=>!e),className:"inline-flex items-center gap-2 rounded-full bg-white/20 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-white transition hover:bg-white/30",children:[d?"Ocultar":"Mostrar"," detalles",s.jsx("svg",{className:`h-3 w-3 transition-transform ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),d&&s.jsx("ul",{className:"mt-3 space-y-2 text-xs leading-relaxed text-blue-50",children:h.map(e=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-blue-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:e})]},e))})]})]})})}),s.jsx("main",{className:"relative pt-6 pb-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"rounded-3xl border border-white/40 bg-white/90 p-6 shadow-xl backdrop-blur",children:e})})})]})}function d(e){return s.jsx(i.Suspense,{fallback:s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:(0,s.jsxs)("div",{className:"space-y-2 text-center",children:[s.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500",children:"Cargando interfaz"})]})}),children:s.jsx(c,{...e})})}},4194:(e,a,r)=>{"use strict";r.d(a,{Providers:()=>i});var s=r(5909),t=r(6314);function i({children:e}){return s.jsx(t.eA,{children:e})}},6452:(e,a,r)=>{"use strict";r.d(a,{A9:()=>t,Pe:()=>o,bW:()=>s,g0:()=>n,pd:()=>l});let s=["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","OC_EMITIDA","EN_RECEPCION","CERRADA"],t={ENVIADA_COMPRAS:{status:"ENVIADA_COMPRAS",label:"RQ enviada a Compras",description:"La requisici\xf3n fue creada por el solicitante y est\xe1 lista para gesti\xf3n de compras.",actor:"COMPRAS",guidance:["Validar que el centro log\xedstico confirm\xf3 el c\xf3digo de centro de costo.","Solicitar cotizaciones a los proveedores registrados.","Cargar cotizaciones y documentos de soporte al sistema."],next:["EN_COMPARATIVO"]},EN_COMPARATIVO:{status:"EN_COMPARATIVO",label:"En comparativo",description:"Compras recibe cotizaciones y prepara el comparativo para selecci\xf3n de proveedor.",actor:"COMPRAS",guidance:["Registrar cada cotizaci\xf3n recibida del proveedor.","Analizar precios, disponibilidad y condiciones.","Crear el comparativo con m\xednimo dos cotizaciones v\xe1lidas."],next:["EN_AUTORIZACION"],allowBackTo:"ENVIADA_COMPRAS"},EN_AUTORIZACION:{status:"EN_AUTORIZACION",label:"Pendiente de autorizaci\xf3n",description:"El comparativo se envi\xf3 a los autorizadores para revisi\xf3n y comentarios.",actor:"AUTORIZADOR",guidance:["Revisar el comparativo y la documentaci\xf3n cargada.","Completar la lista de verificaci\xf3n de presupuesto y pol\xedticas.","Registrar comentarios y decidir aprobar o rechazar."],next:["APROBADA","RECHAZADA"]},APROBADA:{status:"APROBADA",label:"Requisici\xf3n aprobada",description:"Todos los autorizadores aprobaron para generar orden de compra.",actor:"LOGISTICA",guidance:["Emitir la orden de compra referenciando la RQ y el proyecto.","Enviar la orden al proveedor seleccionado con los anexos necesarios."],next:["OC_EMITIDA"],allowBackTo:"EN_AUTORIZACION"},RECHAZADA:{status:"RECHAZADA",label:"Requisici\xf3n rechazada",description:"Alg\xfan autorizador rechaz\xf3 la RQ. Debe corregirse antes de reingresar a compras.",actor:"SOLICITANTE",guidance:["Revisar los comentarios del autorizador.","Ajustar especificaciones, cantidades o documentaci\xf3n.","Reenviar a Compras o cerrar la solicitud si ya no aplica."],next:["ENVIADA_COMPRAS"]},OC_EMITIDA:{status:"OC_EMITIDA",label:"Orden de compra emitida",description:"La orden de compra fue emitida y enviada al proveedor.",actor:"LOGISTICA",guidance:["Compartir la OC con Tesorer\xeda para programaci\xf3n de pagos.","Coordinar con el proveedor la log\xedstica de entrega.","Generar alerta de cierre parcial si aplica."],next:["EN_RECEPCION"]},EN_RECEPCION:{status:"EN_RECEPCION",label:"Recepci\xf3n en proceso",description:"Se est\xe1 validando la recepci\xf3n de bienes y facturas contra la orden de compra.",actor:"LOGISTICA",guidance:["Registrar la recepci\xf3n parcial o total en el sistema.","Notificar a Tesorer\xeda para validar pagos y anticipos.","Coordinar correcciones o devoluciones con el proveedor."],next:["CERRADA"],allowBackTo:"OC_EMITIDA"},CERRADA:{status:"CERRADA",label:"Proceso cerrado",description:"Recepci\xf3n validada, facturas conciliadas y pagos programados seg\xfan pol\xedticas.",actor:"TESORERIA",guidance:["Confirmar cierre y archivar comparativos y OC.","Actualizar el tablero de control y las m\xe9tricas.","Enviar alerta de cierre final a las \xe1reas involucradas."],next:[]}},i=["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","OC_EMITIDA","EN_RECEPCION","CERRADA"];function o(){let e=[];return i.forEach((a,r)=>{let s=t[a];if(!s){e.push(`Estado ${a} no est\xe1 definido en workflowStages`);return}let o=i[r+1];o&&!s.next.includes(o)&&e.push(`El estado ${a} no conecta con ${o} como indica el flujo maestro`)}),Object.values(t).forEach(a=>{a.next.forEach(r=>{t[r]||e.push(`El estado ${a.status} apunta a un estado inexistente ${r}`)})}),e}function l(e){if(e)return t[e]}function n(e){let a=function(e){switch(e){case"SOLICITANTE":return["ENVIADA_COMPRAS","RECHAZADA"];case"COMPRAS":return["ENVIADA_COMPRAS","EN_COMPARATIVO"];case"AUTORIZADOR":return["EN_AUTORIZACION"];default:return[...i]}}(e),r=new Set;return a.flatMap(e=>t[e]?.guidance||[]).filter(e=>!r.has(e)&&(r.add(e),!0))}},1658:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o,metadata:()=>i});var s=r(142);r(4766);let t=(0,r(6018).createProxy)(String.raw`/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/components/Providers.tsx#Providers`),i={title:"AdminBHSR",description:"AdminBHSR \xb7 Plataforma integral de requisiciones del Hospital San Rafael."};function o({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{className:"min-h-screen bg-white text-gray-900",children:s.jsx(t,{children:e})})})}},4766:()=>{}};