(()=>{var e={};e.id=822,e.ids=[822],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(1526),r(1658),r(5859);var s=r(2052),a=r(4966),i=r(2218),o=r.n(i),n=r(528),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["rq",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1526)),"/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/rq/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1658)),"/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5859,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/rq/[id]/page.tsx"],u="/rq/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/rq/[id]/page",pathname:"/rq/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},193:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4610,23)),Promise.resolve().then(r.bind(r,6396))},7400:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(4589),a=r.n(s)},8741:(e,t,r)=>{"use strict";var s=r(8154);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},8154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(6624),a=r(8504);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},224:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6624:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return x},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return l}});let a=r(4580),i=r(2934),o=r(224),n="NEXT_REDIRECT";function d(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let s=Error(n);s.digest=n+";"+t+";"+e+";"+r+";";let i=a.requestAsyncStorage.getStore();return i&&(s.mutableCookies=i.mutableCookies),s}function l(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw d(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw d(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),i=Number(a);return t===n&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(i)&&i in o.RedirectStatusCode}function x(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4589:(e,t,r)=>{"use strict";let{createProxy:s}=r(6018);e.exports=s("/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/node_modules/.pnpm/next@14.2.32_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/client/link.js")},1526:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(142),a=r(9092),i=r(3250),o=r(8741),n=r(7400);let d=function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=t);return s},l=["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","OC_EMITIDA","EN_RECEPCION","CERRADA"],c={ENVIADA_COMPRAS:{status:"ENVIADA_COMPRAS",label:"RQ enviada a Compras",description:"La requisici\xf3n fue creada por el solicitante y est\xe1 lista para gesti\xf3n de compras.",actor:"COMPRAS",guidance:["Validar que el centro log\xedstico confirm\xf3 el c\xf3digo de centro de costo.","Solicitar cotizaciones a los proveedores registrados.","Cargar cotizaciones y documentos de soporte al sistema."],next:["EN_COMPARATIVO"]},EN_COMPARATIVO:{status:"EN_COMPARATIVO",label:"En comparativo",description:"Compras recibe cotizaciones y prepara el comparativo para selecci\xf3n de proveedor.",actor:"COMPRAS",guidance:["Registrar cada cotizaci\xf3n recibida del proveedor.","Analizar precios, disponibilidad y condiciones.","Crear el comparativo con m\xednimo dos cotizaciones v\xe1lidas."],next:["EN_AUTORIZACION"],allowBackTo:"ENVIADA_COMPRAS"},EN_AUTORIZACION:{status:"EN_AUTORIZACION",label:"Pendiente de autorizaci\xf3n",description:"El comparativo se envi\xf3 a los autorizadores para revisi\xf3n y comentarios.",actor:"AUTORIZADOR",guidance:["Revisar el comparativo y la documentaci\xf3n cargada.","Completar la lista de verificaci\xf3n de presupuesto y pol\xedticas.","Registrar comentarios y decidir aprobar o rechazar."],next:["APROBADA","RECHAZADA"]},APROBADA:{status:"APROBADA",label:"Requisici\xf3n aprobada",description:"Todos los autorizadores aprobaron para generar orden de compra.",actor:"LOGISTICA",guidance:["Emitir la orden de compra referenciando la RQ y el proyecto.","Enviar la orden al proveedor seleccionado con los anexos necesarios."],next:["OC_EMITIDA"],allowBackTo:"EN_AUTORIZACION"},RECHAZADA:{status:"RECHAZADA",label:"Requisici\xf3n rechazada",description:"Alg\xfan autorizador rechaz\xf3 la RQ. Debe corregirse antes de reingresar a compras.",actor:"SOLICITANTE",guidance:["Revisar los comentarios del autorizador.","Ajustar especificaciones, cantidades o documentaci\xf3n.","Reenviar a Compras o cerrar la solicitud si ya no aplica."],next:["ENVIADA_COMPRAS"]},OC_EMITIDA:{status:"OC_EMITIDA",label:"Orden de compra emitida",description:"La orden de compra fue emitida y enviada al proveedor.",actor:"LOGISTICA",guidance:["Compartir la OC con Tesorer\xeda para programaci\xf3n de pagos.","Coordinar con el proveedor la log\xedstica de entrega.","Generar alerta de cierre parcial si aplica."],next:["EN_RECEPCION"]},EN_RECEPCION:{status:"EN_RECEPCION",label:"Recepci\xf3n en proceso",description:"Se est\xe1 validando la recepci\xf3n de bienes y facturas contra la orden de compra.",actor:"LOGISTICA",guidance:["Registrar la recepci\xf3n parcial o total en el sistema.","Notificar a Tesorer\xeda para validar pagos y anticipos.","Coordinar correcciones o devoluciones con el proveedor."],next:["CERRADA"],allowBackTo:"OC_EMITIDA"},CERRADA:{status:"CERRADA",label:"Proceso cerrado",description:"Recepci\xf3n validada, facturas conciliadas y pagos programados seg\xfan pol\xedticas.",actor:"TESORERIA",guidance:["Confirmar cierre y archivar comparativos y OC.","Actualizar el tablero de control y las m\xe9tricas.","Enviar alerta de cierre final a las \xe1reas involucradas."],next:[]}},u=["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","OC_EMITIDA","EN_RECEPCION","CERRADA"];function x({currentStatus:e,compact:t=!1}){let r=function(){let e=[];return u.forEach((t,r)=>{let s=c[t];if(!s){e.push(`Estado ${t} no est\xe1 definido en workflowStages`);return}let a=u[r+1];a&&!s.next.includes(a)&&e.push(`El estado ${t} no conecta con ${a} como indica el flujo maestro`)}),Object.values(c).forEach(t=>{t.next.forEach(r=>{c[r]||e.push(`El estado ${t.status} apunta a un estado inexistente ${r}`)})}),e}(),a=function(e){if(!e)return -1;let t=e.toUpperCase(),r=l.indexOf(t);return r>=0?r:"RECHAZADA"===t?l.indexOf("EN_AUTORIZACION"):-1}(e),i=e?.toUpperCase()==="RECHAZADA";return(0,s.jsxs)("div",{className:d("space-y-4",t&&"space-y-2"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Flujo del proceso"}),s.jsx("p",{className:"text-xs text-gray-500",children:e?`Estado actual: ${e.replace(/_/g," ")}`:"Sin estado asignado"})]}),0===r.length?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-700 bg-green-100 px-2 py-1 rounded-full",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Flujo validado"]}):(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-red-700 bg-red-100 px-2 py-1 rounded-full",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M12 5a7 7 0 100 14 7 7 0 000-14z"})}),"Flujo requiere ajustes"]})]}),s.jsx("div",{className:d("max-w-full overflow-x-auto pb-1 [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden"),children:s.jsx("div",{className:d("relative flex flex-col md:flex-row md:flex-wrap",t?"gap-3 md:gap-4":"gap-4 md:gap-6"),children:l.map((e,r)=>{let o=c[e],n=a>r,l=a===r&&!i;return(0,s.jsxs)("div",{className:d("flex-1 min-w-[140px] md:flex-[1_1_180px]"),children:[(0,s.jsxs)("div",{className:d("flex items-center gap-3 rounded-2xl border px-4 py-3 shadow-sm transition-colors",l&&"border-blue-500 bg-blue-50 text-blue-900 shadow",n&&!l&&"border-green-500 bg-green-50 text-green-900",!l&&!n&&"border-gray-200 bg-white text-gray-600"),children:[s.jsx("div",{className:d("flex h-10 w-10 items-center justify-center rounded-full border-2 text-sm font-semibold",l&&"border-blue-500 bg-blue-100 text-blue-700",n&&!l&&"border-green-500 bg-green-100 text-green-700",!l&&!n&&"border-gray-200 bg-gray-100 text-gray-500"),children:r+1}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:o.label}),s.jsx("span",{className:"text-[11px] text-gray-500",children:o.actor})]})]}),s.jsx("p",{className:d("mt-2 text-xs leading-relaxed text-gray-500",t&&"hidden md:block"),children:o.description}),i&&"EN_AUTORIZACION"===e&&(0,s.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700",children:[s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 11-12.728 0 9 9 0 0112.728 0zM9 9l6 6m0-6l-6 6"})}),"Rechazada - volver a Compras"]})]},e)})})}),r.length>0&&(0,s.jsxs)("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-xs text-red-700",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Inconsistencias detectadas en el workflow:"}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:r.map(e=>s.jsx("li",{children:e},e))})]})]})}async function p({params:e,searchParams:t}){let r=await a._.rQ.findUnique({where:{id:e.id},include:{items:!0,project:!0,costCenter:!0,requester:!0,quotes:{include:{supplier:!0,items:!0}},comparison:{include:{chosen:!0}},approvals:!0,po:{include:{supplier:!0}}}});r||(0,o.notFound)();let d=t.role?.toUpperCase()||"USER",l=function(e){if(e)return c[e]}(r.status);return s.jsx(i.Z,{currentRole:d,children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:"RQ"}),s.jsx("span",{className:"text-xs font-semibold text-slate-500",children:r.code})]}),s.jsx("h1",{className:"mt-1 text-3xl font-bold text-slate-900",children:r.title}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-slate-500",children:["Creada el ",new Date(r.createdAt).toLocaleDateString("es-CO")]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-3 md:items-end",children:[(0,s.jsxs)("span",{className:`inline-flex items-center gap-2 rounded-full px-4 py-1 text-sm font-semibold ${{DRAFT:"bg-gray-100 text-gray-800",ENVIADA_COMPRAS:"bg-blue-100 text-blue-800",EN_COMPARATIVO:"bg-yellow-100 text-yellow-800",EN_AUTORIZACION:"bg-orange-100 text-orange-800",APROBADA:"bg-green-100 text-green-800",RECHAZADA:"bg-red-100 text-red-800",OC_EMITIDA:"bg-purple-100 text-purple-800",EN_RECEPCION:"bg-indigo-100 text-indigo-800",CERRADA:"bg-gray-100 text-gray-800"}[r.status]||"bg-gray-100 text-gray-800"}`,children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-current opacity-80"}),r.status.replace(/_/g," ")]}),l&&s.jsx("div",{className:"text-xs text-slate-500 max-w-xs text-right",children:l.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:["COMPRAS"===d&&["ENVIADA_COMPRAS","EN_COMPARATIVO"].includes(r.status)&&s.jsx(n.default,{href:`/rq/${r.id}/quotes?role=${d}`,className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-blue-700",children:"Gestionar Cotizaciones"}),"AUTORIZADOR"===d&&"EN_AUTORIZACION"===r.status&&s.jsx(n.default,{href:`/rq/${r.id}/approve?role=${d}`,className:"inline-flex items-center gap-2 rounded-full bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-green-700",children:"Revisar y Aprobar"})]})]})]}),s.jsx(x,{currentStatus:r.status})]}),(0,s.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Informaci\xf3n B\xe1sica"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Proyecto"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.project.name})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Centro de Costo"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.costCenter?.name||"N/A"})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Solicitante"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.requester.name})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Creaci\xf3n"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]})]}),r.description&&(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Descripci\xf3n"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.description})]})]}),l&&(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[(0,s.jsxs)("div",{className:"rounded-3xl border border-blue-100 bg-blue-50 p-6 text-blue-900 shadow-sm",children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-widest text-blue-600",children:"Pasos sugeridos"}),s.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:l.guidance.map(e=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"mt-1 h-4 w-4 flex-shrink-0 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:e})]},e))})]}),(0,s.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm text-sm text-slate-600",children:[s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Responsable"}),s.jsx("p",{className:"mt-2 font-semibold text-slate-900",children:c[r.status]?.actor||"Equipo"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Aseg\xfarate de coordinar con las \xe1reas involucradas para evitar retrabajos."})]})]}),(0,s.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"\xcdtems Solicitados"}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Especificaci\xf3n"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unidad"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(e=>(0,s.jsxs)("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.spec||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.qty.toString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.uom||"unidad"})]},e.id))})]})})]}),r.quotes.length>0&&(0,s.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cotizaciones Recibidas"}),s.jsx("div",{className:"space-y-4",children:r.quotes.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:e.supplier.name}),(0,s.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[e.currency," ",e.total.toLocaleString()]})]}),e.notes&&s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.notes}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Recibida: ",new Date(e.createdAt).toLocaleDateString()]})]},e.id))})]}),r.comparison&&(0,s.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Comparativo"}),(0,s.jsxs)("div",{className:"space-y-2",children:[r.comparison.chosen&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Proveedor Seleccionado:"}),s.jsx("span",{className:"text-sm text-gray-900",children:r.comparison.chosen.name}),s.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded",children:"ELEGIDO"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Comparativo creado: ",new Date(r.comparison.createdAt).toLocaleDateString()]})]})]}),r.po&&(0,s.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Orden de Compra"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"N\xfamero OC"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.po.number})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Proveedor"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.po.supplier.name})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Total"}),(0,s.jsxs)("p",{className:"text-sm text-gray-900",children:[r.po.currency," ",r.po.total.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Emisi\xf3n"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(r.po.createdAt).toLocaleDateString()})]})]})]})]})})}},3250:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6018).createProxy)(String.raw`/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/components/Layout.tsx#default`)},9092:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var s=r(3524);let a=global.prisma||new s.PrismaClient({log:["warn","error"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[700,217,94,667],()=>r(7870));module.exports=s})();