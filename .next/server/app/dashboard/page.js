(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(7506),s(1658),s(5859);var a=s(2052),r=s(4966),i=s(2218),l=s.n(i),o=s(528),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7506)),"/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1658)),"/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5859,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/dashboard/page.tsx"],x="/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7467:(e,t,s)=>{Promise.resolve().then(s.bind(s,2872))},2872:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5909),r=s(6665),i=s(6963),l=s(6396),o=s(2519),n=s(9083),d=s(6452);let c={blue:"from-sky-500/30 via-blue-500/20 to-indigo-500/30",emerald:"from-emerald-500/30 via-teal-500/20 to-green-500/30",amber:"from-amber-500/30 via-orange-500/20 to-yellow-500/30",violet:"from-violet-500/30 via-purple-500/20 to-indigo-500/30",rose:"from-rose-500/30 via-red-500/20 to-pink-500/30"},x={SOLICITANTE:"bg-blue-100 text-blue-700",COMPRAS:"bg-amber-100 text-amber-700",AUTORIZADOR:"bg-violet-100 text-violet-700",ADMIN:"bg-emerald-100 text-emerald-700"},u={SOLICITANTE:{title:"Checklist del solicitante",subtitle:"Prepara documentaci\xf3n, da seguimiento y responde comentarios sin demoras.",steps:[{title:"Prepara la requisici\xf3n",description:"Confirma proyecto y centro de costo, adjunta soportes y valida cantidades clave."},{title:"Env\xeda a Compras",description:"Monitorea la bandeja y conversa con Compras cuando necesiten aclaraciones."},{title:"Atiende ajustes",description:"Si se rechaza, revisa comentarios, ajusta y reenv\xeda para mantener el flujo activo."}],cta:{label:"Crear nueva RQ",href:"/rq/new"}},COMPRAS:{title:"Flujo de compras",subtitle:"Gestiona cotizaciones, arma comparativos y comunica el avance del proceso.",steps:[{title:"Clasifica la solicitud",description:"Valida la informaci\xf3n del solicitante y prioriza seg\xfan criticidad y monto."},{title:"Captura cotizaciones",description:"Carga propuestas con soporte, eval\xfaa condiciones y arma el comparativo ganador."},{title:"Env\xeda a autorizaci\xf3n",description:"Comparte comentarios clave y asegura que los autorizadores reciban toda la evidencia."}]},AUTORIZADOR:{title:"Ruta del autorizador",subtitle:"Eval\xfaa comparativos, verifica presupuesto y deja rastro de decisiones claras.",steps:[{title:"Revisa el comparativo",description:"Analiza precios, justificaci\xf3n y cumplimiento de pol\xedticas antes de decidir."},{title:"Valida presupuesto",description:"Confirma disponibilidad y prioridades del proyecto o centro de costo."},{title:"Aprueba o devuelve",description:"Aprueba cuando cumple criterios o rechaza con comentarios accionables."}]},ADMIN:{title:"Control administrativo",subtitle:"Monitorea indicadores, anticipa bloqueos y asegura cierres trazables.",steps:[{title:"Monitorea indicadores",description:"Revisa tiempos por etapa y prioriza incidencias junto a Compras."},{title:"Acompa\xf1a incidencias",description:"Facilita soporte para requisiciones detenidas y alinea a los equipos."},{title:"Cierra el ciclo",description:"Documenta cierres, asegura adjuntos completos y genera reportes ejecutivos."}]}};function m(){let e;let t=(0,i.useRouter)(),s=(0,i.useSearchParams)(),[m,p]=(0,r.useState)([]),[h,b]=(0,r.useState)([]),[g,A]=(0,r.useState)({}),[f,j]=(0,r.useState)([]),[v,N]=(0,r.useState)(),[C,R]=(0,r.useState)(0),[O,y]=(0,r.useState)(!0),w=(s.get("role")||"COMPRAS").toUpperCase(),E=s.get("status")||"",I=s.get("project")||"",P=parseInt(s.get("page")||"1");(0,r.useCallback)(async()=>{y(!0);try{let e=new Date,t=[{id:"1",code:"RQ-0001",title:"Compra de bolsas quir\xfargicas",status:"ENVIADA_COMPRAS",createdAt:new Date(e.getTime()-5184e5),project:"Unidad Quir\xfargica 2025",amount:215e4,currency:"COP",requester:"Log\xedstica HSR"},{id:"2",code:"RQ-0002",title:"Material de curaci\xf3n",status:"EN_COMPARATIVO",createdAt:new Date(e.getTime()-3456e5),project:"Hospitalizaci\xf3n General",amount:89e4,currency:"COP",requester:"Centro Log\xedstico"},{id:"3",code:"RQ-0003",title:"Equipos de laboratorio",status:"EN_AUTORIZACION",createdAt:new Date(e.getTime()-1728e5),project:"Laboratorio Cl\xednico",amount:145e5,currency:"COP",requester:"Investigaci\xf3n HSR"},{id:"4",code:"RQ-0004",title:"Servicio de mantenimiento equipos RX",status:"APROBADA",createdAt:new Date(e.getTime()-864e5),project:"Imagenolog\xeda",amount:38e5,currency:"COP",requester:"Ingenier\xeda Cl\xednica"},{id:"5",code:"RQ-0005",title:"Compra de nebulizadores pedi\xe1tricos",status:"OC_EMITIDA",createdAt:new Date(e.getTime()-288e5),project:"Pediatr\xeda",amount:56e5,currency:"COP",requester:"Piso 4"},{id:"6",code:"RQ-0006",title:"Reposici\xf3n de medicamentos alto costo",status:"EN_RECEPCION",createdAt:new Date(e.getTime()-18e5),project:"Farmacia",amount:32e6,currency:"COP",requester:"Tesorer\xeda"},{id:"7",code:"RQ-0007",title:"Contrato de esterilizaci\xf3n externa",status:"CERRADA",createdAt:new Date(e.getTime()-12096e5),project:"Central de Esterilizaci\xf3n",amount:98e5,currency:"COP",requester:"Compras Estrat\xe9gicas"},{id:"8",code:"RQ-0008",title:"Actualizar licencias software diagn\xf3stico",status:"RECHAZADA",createdAt:new Date(e.getTime()-432e5),project:"Sistemas HSR",amount:42e5,currency:"COP",requester:"TI Hospital"}];"COMPRAS"===w?t=t.filter(e=>["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION"].includes(e.status)):"SOLICITANTE"===w?t=t.filter(e=>["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","RECHAZADA","OC_EMITIDA","CERRADA"].includes(e.status)):"AUTORIZADOR"===w&&(t=t.filter(e=>["EN_AUTORIZACION","APROBADA","RECHAZADA"].includes(e.status)));let s=t.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});b(t),A(s);let a=Array.from(new Set(t.map(e=>e.project))).sort((e,t)=>e.localeCompare(t,"es-CO"));j(a);let r=t.filter(e=>(!E||e.status===E)&&(!I||e.project===I)),i=[...t].sort((e,t)=>{let s=d.bW.indexOf(e.status),a=d.bW.indexOf(t.status);return(-1===s?999:s)-(-1===a?999:a)});N(i[0]?.status),p(r.slice((P-1)*10,10*P)),R(r.length)}catch(e){console.error("Error fetching dashboard data:",e)}finally{y(!1)}},[w,E,I,P]);let D=(e,a)=>{let r=new URLSearchParams(s);a?r.set(e,a):r.delete(e),r.delete("page"),t.push(`/dashboard?${r}`)},_=e=>({DRAFT:"bg-gray-100 text-gray-800",ENVIADA_COMPRAS:"bg-blue-100 text-blue-800",EN_COMPARATIVO:"bg-yellow-100 text-yellow-800",EN_AUTORIZACION:"bg-orange-100 text-orange-800",APROBADA:"bg-green-100 text-green-800",RECHAZADA:"bg-red-100 text-red-800",OC_EMITIDA:"bg-purple-100 text-purple-800",EN_RECEPCION:"bg-indigo-100 text-indigo-800",CERRADA:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",T=(e,t,s)=>"COMPRAS"===s&&["ENVIADA_COMPRAS","EN_COMPARATIVO"].includes(t)?a.jsx(o.default,{href:`/rq/${e}/quotes?role=${s}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Gestionar Cotizaciones"}):"AUTORIZADOR"===s&&"EN_AUTORIZACION"===t?a.jsx(o.default,{href:`/rq/${e}/approve?role=${s}`,className:"text-green-600 hover:text-green-800 font-medium",children:"Revisar"}):"SOLICITANTE"===s&&"RECHAZADA"===t?a.jsx(o.default,{href:`/rq/${e}?role=${s}`,className:"text-red-600 hover:text-red-800 font-medium",children:"Ver comentarios"}):a.jsx(o.default,{href:`/rq/${e}?role=${s}`,className:"text-gray-600 hover:text-gray-800 font-medium",children:"Ver Detalles"}),M=Math.ceil(C/10),S=(0,r.useMemo)(()=>{let e=e=>e.reduce((e,t)=>e+(g[t]??0),0);switch(w){case"SOLICITANTE":return[{label:"Seguimiento activo",value:e(["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION"]),hint:"RQs en movimiento con Compras o Autorizaci\xf3n.",accent:"blue"},{label:"Listas para cerrar",value:e(["APROBADA","OC_EMITIDA","EN_RECEPCION","CERRADA"]),hint:"Listas para OC, recepci\xf3n o cierre definitivo.",accent:"emerald"},{label:"Requieren ajustes",value:e(["RECHAZADA"]),hint:"Devueltas con comentarios pendientes.",accent:"rose"}];case"COMPRAS":return[{label:"Por cotizar",value:e(["ENVIADA_COMPRAS"]),hint:"Requisiciones reci\xe9n recibidas.",accent:"blue"},{label:"En comparativo",value:e(["EN_COMPARATIVO"]),hint:"Evaluando proveedores y costos.",accent:"amber"},{label:"Esperando autorizaci\xf3n",value:e(["EN_AUTORIZACION"]),hint:"Enviadas a firma y seguimiento.",accent:"violet"}];case"AUTORIZADOR":return[{label:"Pendientes por revisar",value:e(["EN_AUTORIZACION"]),hint:"Comparativos listos para decisi\xf3n.",accent:"amber"},{label:"Autorizadas",value:e(["APROBADA"]),hint:"Decisiones positivas recientes.",accent:"emerald"},{label:"Devueltas",value:e(["RECHAZADA"]),hint:"Solicitudes que requieren ajustes.",accent:"rose"}];default:return[{label:"Procesos activos",value:e(["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","OC_EMITIDA","EN_RECEPCION"]),hint:"Flujos en curso dentro del ciclo.",accent:"blue"},{label:"Cerradas",value:e(["CERRADA"]),hint:"Requisiciones concluidas.",accent:"emerald"},{label:"Incidencias",value:e(["RECHAZADA"]),hint:"Requieren soporte o seguimiento.",accent:"rose"}]}},[w,g]),k=(0,r.useMemo)(()=>h.length?[...h].sort((e,t)=>{let s=d.bW.indexOf(e.status),a=d.bW.indexOf(t.status),r=-1===s?Number.MAX_SAFE_INTEGER:s,i=-1===a?Number.MAX_SAFE_INTEGER:a;return r===i?t.createdAt.getTime()-e.createdAt.getTime():r-i}).slice(0,3):[],[h]),q=(0,r.useMemo)(()=>(0,d.g0)(w),[w]),z=u[w],Z={SOLICITANTE:{headline:"Seguimiento de requisiciones",sub:"Mant\xe9n la comunicaci\xf3n con Compras y responde ajustes r\xe1pidamente."},COMPRAS:{headline:"Bandeja de compras",sub:"Prioriza RQs entrantes, asegura comparativos completos y comunica avances."},AUTORIZADOR:{headline:"Autorizaciones pendientes",sub:"Revisa comparativos y deja comentarios claros para el equipo."},ADMIN:{headline:"Visi\xf3n general del flujo",sub:"Monitorea el estado de cada RQ y asegura cumplimiento del proceso."}},U=(P-1)*10+1,L=Math.min(10*P,C),H="dashboard-status-filter",V="dashboard-project-filter";return e=O?a.jsx("div",{className:"flex items-center justify-center rounded-2xl border border-slate-200 bg-white p-12 text-slate-500",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"}),"Cargando bandeja..."]})}):m.length>0?a.jsx("div",{className:"space-y-4",children:m.map(e=>{let t=d.bW.indexOf(e.status),s=-1===t?0:Math.round((t+1)/d.bW.length*100);return(0,a.jsxs)("article",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:border-blue-200 hover:shadow-lg",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:e.code}),a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold ${_(e.status)}`,children:e.status.replace(/_/g," ")})]}),a.jsx("h3",{className:"mt-1 text-xl font-semibold text-slate-900",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.requester," â€¢ ",e.project]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Monto estimado"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-slate-900",children:[e.currency," ",e.amount.toLocaleString("es-CO")]}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:["Actualizado ",e.createdAt.toLocaleDateString("es-CO")]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[11px] font-medium text-slate-500",children:[a.jsx("span",{children:"Progreso del flujo"}),(0,a.jsxs)("span",{children:[s,"%"]})]}),a.jsx("div",{className:"mt-2 h-2 rounded-full bg-slate-100",children:a.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 transition-all",style:{width:`${s}%`}})})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-[11px] font-semibold text-blue-700",children:["Pr\xf3ximo paso: ",d.bW[t+1]?d.bW[t+1].replace(/_/g," "):"Cierre"]}),T(e.id,e.status,w)]})]},e.id)})}):a.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-12 text-center text-slate-500",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("svg",{className:"h-14 w-14 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6M5 5h6l2 2h6v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"No hay requisiciones en esta vista"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Ajusta los filtros o revisa otro estado del flujo."})]})]})}),a.jsx(l.default,{currentRole:w,children:(0,a.jsxs)("div",{className:"space-y-10",children:[(0,a.jsxs)("header",{className:"flex flex-col gap-6 rounded-3xl bg-gradient-to-r from-blue-600 via-blue-500 to-indigo-500 p-8 text-white shadow-lg",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-white/70",children:w}),a.jsx("h1",{className:"mt-2 text-3xl font-bold leading-tight",children:Z[w]?.headline||"Dashboard"}),a.jsx("p",{className:"mt-2 max-w-2xl text-sm text-white/80",children:Z[w]?.sub})]}),"SOLICITANTE"===w&&(0,a.jsxs)(o.default,{href:"/rq/new",className:"inline-flex items-center gap-2 self-start rounded-full bg-white px-5 py-2 text-sm font-semibold text-blue-600 shadow hover:shadow-lg",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva requisici\xf3n"]})]}),S.length>0&&a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:S.map(e=>(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-white/15 bg-white/10 px-5 py-4 shadow-sm backdrop-blur",children:[a.jsx("div",{className:`pointer-events-none absolute inset-0 bg-gradient-to-br ${c[e.accent]} opacity-80`}),(0,a.jsxs)("div",{className:"relative space-y-2",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-white/70",children:e.label}),a.jsx("p",{className:"text-3xl font-bold text-white",children:e.value}),a.jsx("p",{className:"text-xs text-white/80",children:e.hint})]})]},e.label))}),a.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:["ENVIADA_COMPRAS","EN_COMPARATIVO","EN_AUTORIZACION","APROBADA","OC_EMITIDA","EN_RECEPCION","CERRADA"].map(e=>{let t=g[e]||0;return(0,a.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-xs font-semibold uppercase tracking-wide text-white/80",children:[a.jsx("p",{className:"text-[10px] text-white/70",children:e.replace(/_/g," ")}),a.jsx("p",{className:"mt-2 text-2xl font-bold text-white",children:t})]},e)})})]}),(0,a.jsxs)("section",{className:"grid gap-8 lg:grid-cols-[2fr_1fr]",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Filtros"}),(0,a.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:H,className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Estado"}),(0,a.jsxs)("select",{id:H,value:E,onChange:e=>D("status",e.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/60",children:[a.jsx("option",{value:"",children:"Todos"}),a.jsx("option",{value:"ENVIADA_COMPRAS",children:"Enviada a Compras"}),a.jsx("option",{value:"EN_COMPARATIVO",children:"En Comparativo"}),a.jsx("option",{value:"EN_AUTORIZACION",children:"En Autorizaci\xf3n"}),a.jsx("option",{value:"APROBADA",children:"Aprobada"}),a.jsx("option",{value:"RECHAZADA",children:"Rechazada"}),a.jsx("option",{value:"OC_EMITIDA",children:"OC Emitida"}),a.jsx("option",{value:"EN_RECEPCION",children:"En Recepci\xf3n"}),a.jsx("option",{value:"CERRADA",children:"Cerrada"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:V,className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Proyecto"}),(0,a.jsxs)("select",{id:V,value:I,onChange:e=>D("project",e.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/60",children:[a.jsx("option",{value:"",children:"Todos"}),f.map(e=>a.jsx("option",{value:e,children:e},e))]})]})]}),C>0&&(0,a.jsxs)("p",{className:"mt-3 text-xs text-slate-500",children:["Mostrando ",U,"-",L," de ",C," requisiciones"]})]}),a.jsx("div",{className:"space-y-4",children:e}),M>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[P>1&&a.jsx("button",{onClick:()=>D("page",(P-1).toString()),className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-600",children:"Anterior"}),(0,a.jsxs)("span",{className:"rounded-full bg-slate-100 px-4 py-2 text-xs font-semibold text-slate-600",children:["P\xe1gina ",P," de ",M]}),P<M&&a.jsx("button",{onClick:()=>D("page",(P+1).toString()),className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-600",children:"Siguiente"})]})]}),(0,a.jsxs)("aside",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Playbook del rol"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:z.subtitle}),a.jsx("ol",{className:"mt-4 space-y-3 text-sm text-slate-700",children:z.steps.map((e,t)=>(0,a.jsxs)("li",{className:"flex gap-3",children:[a.jsx("span",{className:`flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full text-[11px] font-semibold uppercase tracking-wide ${x[w]}`,children:t+1}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:e.title}),a.jsx("p",{className:"text-xs text-slate-500",children:e.description})]})]},e.title))}),z.cta&&(0,a.jsxs)(o.default,{href:z.cta.href,className:"mt-4 inline-flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-blue-700",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),z.cta.label]})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/70 p-6 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Mapa del flujo"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Visualiza en qu\xe9 etapa se encuentra tu requisici\xf3n m\xe1s adelantada."}),a.jsx("div",{className:"mt-4",children:a.jsx(n.N,{currentStatus:v,compact:!0})})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-blue-100 bg-blue-50/80 p-6 text-blue-900 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-widest text-blue-700",children:"Siguientes acciones"}),a.jsx("p",{className:"mt-2 text-xs text-blue-600",children:"Prioriza los pr\xf3ximos movimientos de tu bandeja."}),(0,a.jsxs)("ul",{className:"mt-4 space-y-3 text-sm",children:[k.map(e=>(0,a.jsxs)("li",{className:"rounded-xl bg-white/75 px-4 py-3 shadow-sm transition hover:shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs font-semibold text-blue-800",children:[a.jsx("span",{children:e.code}),a.jsx("span",{className:"rounded-full bg-blue-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-blue-700",children:e.status.replace(/_/g," ")})]}),a.jsx("p",{className:"mt-1 text-xs text-blue-600",children:e.title}),a.jsx("div",{className:"mt-2 text-xs font-semibold text-blue-500",children:T(e.id,e.status,w)})]},e.id)),0===k.length&&a.jsx("li",{className:"rounded-xl bg-white/60 px-4 py-3 text-xs text-blue-600",children:"No hay acciones pendientes para este rol."})]})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/80 p-6",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-widest text-slate-500",children:"Notas del flujo"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Recomendaciones claves para que el proceso fluya sin retrabajos."}),q.length>0?a.jsx("ul",{className:"mt-4 space-y-3 text-xs text-slate-600",children:q.map(e=>(0,a.jsxs)("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 h-2 w-2 flex-shrink-0 rounded-full bg-slate-300"}),a.jsx("span",{className:"leading-relaxed",children:e})]},e))}):a.jsx("p",{className:"mt-4 text-xs text-slate-500",children:"Mant\xe9n comunicaci\xf3n con tu equipo y registra cada cambio importante."})]})]})]})]})})}function p(){return a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:a.jsx(m,{})})}},9083:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var a=s(5909);let r=function(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(s=0;s<i;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a)}return r}(e))&&(a&&(a+=" "),a+=t);return a};var i=s(6452);function l({currentStatus:e,compact:t=!1}){let s=(0,i.Pe)(),l=function(e){if(!e)return -1;let t=e.toUpperCase(),s=i.bW.indexOf(t);return s>=0?s:"RECHAZADA"===t?i.bW.indexOf("EN_AUTORIZACION"):-1}(e),o=e?.toUpperCase()==="RECHAZADA";return(0,a.jsxs)("div",{className:r("space-y-4",t&&"space-y-2"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Flujo del proceso"}),a.jsx("p",{className:"text-xs text-gray-500",children:e?`Estado actual: ${e.replace(/_/g," ")}`:"Sin estado asignado"})]}),0===s.length?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-700 bg-green-100 px-2 py-1 rounded-full",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Flujo validado"]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-red-700 bg-red-100 px-2 py-1 rounded-full",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M12 5a7 7 0 100 14 7 7 0 000-14z"})}),"Flujo requiere ajustes"]})]}),a.jsx("div",{className:r("max-w-full overflow-x-auto pb-1 [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden"),children:a.jsx("div",{className:r("relative flex flex-col md:flex-row md:flex-wrap",t?"gap-3 md:gap-4":"gap-4 md:gap-6"),children:i.bW.map((e,s)=>{let n=i.A9[e],d=l>s,c=l===s&&!o;return(0,a.jsxs)("div",{className:r("flex-1 min-w-[140px] md:flex-[1_1_180px]"),children:[(0,a.jsxs)("div",{className:r("flex items-center gap-3 rounded-2xl border px-4 py-3 shadow-sm transition-colors",c&&"border-blue-500 bg-blue-50 text-blue-900 shadow",d&&!c&&"border-green-500 bg-green-50 text-green-900",!c&&!d&&"border-gray-200 bg-white text-gray-600"),children:[a.jsx("div",{className:r("flex h-10 w-10 items-center justify-center rounded-full border-2 text-sm font-semibold",c&&"border-blue-500 bg-blue-100 text-blue-700",d&&!c&&"border-green-500 bg-green-100 text-green-700",!c&&!d&&"border-gray-200 bg-gray-100 text-gray-500"),children:s+1}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:n.label}),a.jsx("span",{className:"text-[11px] text-gray-500",children:n.actor})]})]}),a.jsx("p",{className:r("mt-2 text-xs leading-relaxed text-gray-500",t&&"hidden md:block"),children:n.description}),o&&"EN_AUTORIZACION"===e&&(0,a.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 11-12.728 0 9 9 0 0112.728 0zM9 9l6 6m0-6l-6 6"})}),"Rechazada - volver a Compras"]})]},e)})})}),s.length>0&&(0,a.jsxs)("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-xs text-red-700",children:[a.jsx("p",{className:"font-semibold mb-1",children:"Inconsistencias detectadas en el workflow:"}),a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.map(e=>a.jsx("li",{children:e},e))})]})]})}},7506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(6018).createProxy)(String.raw`/Users/daviddonneys/Documents/BarcoHospitalHSR/don-diego-app/src/app/dashboard/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[700,217,94,667],()=>s(9610));module.exports=a})();